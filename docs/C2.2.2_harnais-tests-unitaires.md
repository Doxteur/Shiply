## Harnais de tests unitaires (C2.2.2)

### Objectifs
- Couvrir la majorité du code critique (≥ 80% sur modules impactés).
- Détecter régressions tôt, fournir des rapports exploitables.

### Couverture par sous‑projet
- **Client**: Vitest + React Testing Library + axe (a11y). Tests composants, hooks, slices Redux.
- **Server**: Japa/Jest + supertest. Tests des contrôleurs, validations, agrégation de statuts.
- **Runner**: tests d’intégration focalisés (exécution step, annulation coopérative, logs).
- **Shared**: tests de types/schemas utilitaires.

### Données et fixtures
- Seeders réalistes (`server/database/seeders/user_seeder.ts`) pour runs de démo.
- Mocks Axios pour appels GitHub/API.

### Rapports & Qualité
- Rapport coverage lcov + HTML uploadé en artefact CI.
- axe-core pour audits a11y de composants critiques.

### Stratégie
- Tests de contrats (types) et validation YAML via `ajv`.
- Tests d’agrégation de statut run/job (success/failed/canceled/running).
- Tests des endpoints clés: login, projets, pipelines sync, runs, logs SSE.

### Exécution locale
- `bun run test` (client) / `node ace test` (server) / scripts runner dédiés.

### Seuils
- Couverture minimale 80% sur fichiers modifiés, blocking en CI.

